\documentclass{svproc}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{listings}
\usepackage{listings-golang} 
\usepackage{color}
\usepackage{url}
\def\UrlFont{\rmfamily}



\lstset{ 
    frame=single,
    basicstyle=\footnotesize,
    keywordstyle=\color{red},
    numbers=left,
    numbersep=5pt,
    showstringspaces=false, 
    stringstyle=\color{blue},
    tabsize=4,
    language=Golang
}

\begin{document}
\input{portada/portada}

\mainmatter             


\title{APIGENA: Generación de APIs como linea de productos software}

\titlerunning{ APIGENA }  % abbreviated title (for running head)
%                                     also used for the TOC unless
%                                     \toctitle is used
\author{César Hugo Bárzano Cruz\inst{1} }

\institute{UNED,\\
\email{hugobarzano@gmail.com}}
\maketitle              % typeset the title of the contribution

%\tableofcontents
%\listoffigures
\begin{abstract}

En el ámbito de la web 2.0 y las soluciones cloud,  el uso y consumo de servicios o productos software basados en el protocolo HTTP se ha incrementado notablemente. A raíz de la gran demanda de este tipo de productos software, esta publicación propone la implementación  de una linea de productos software mediante un enfoque generativo, concretamete  de aplicaciones  API-REST con el objetivo de generalizar este tipo de aplicaciones para alcanzar una producción en escala. En esta publicación se muestra una implementación  capaz de dado un modelo de especifico de dominio definido en formato JSON producir el código fuente y configuración necesarias para realizar operaciones CRUD sobre este tipo de modelos mediante una interfaz API-REST.  La implementación que aquí se muestra es capaz de producir código fuente en los siguientes lenguajes: Go, Python, Javascript. Las APIs generadas incluyen todo lo necesario para ser auto-contenidas, es decir, contienen todas las librerías o dependencias necesarias para funcionar correctamente. De manera adicional, esta publicación muestra como el uso de Docker como entorno virtual,  facilita el desarrollo y la portabilidad del software aquí propuesto.  

\keywords{Lineas de Productos Software, Programación Generativa, API-Rest, Cloud, Golang, Docker}

\end{abstract}

\section{Introducción}

\subsection{Problema}

El problema que aquí se propone consiste en ¿ Como generalizar y automatizar el proceso de especificación, documentación y desarrollo de servicios web de naturaleza API-REST?
¿ Es posible abordar el problema para producir APIs en distintos lenguajes de programación? 

\subsection{Estado del Arte}
Actualmente existen herramientas capaces de facilitar y automatizar el proceso de desarrollo de APIs mediante un enfoque generativo. Las  herramientas que se proponen a continuación tiene en común el uso de  una especificación OpenAPI\cite{spec} que permite describir APIs para ser usadas posteriormente a la hora de producir, consumir y visualizar servicios web. Por otro lado tambien se proponen algunas herramientas las cuales son capaces de dada una especificación de API son capaces de generar documentación e interfaz de usuario asociada. Todas las herramientas propuestas son de naturaleza Open-Source. Existen otros tipos de especificación que son igual de validos, como por ejemplo:


\begin{itemize}
\item API Blueprint
\item WSDL
\item RAML
\item Swagger 1.0
\item Swagger 2.0
\end{itemize}

\subsubsection{OpenAPI Generator}

Permite la generación de bibliotecas de cliente API (SDK), stubs de servidor, documentación y configuración dada una especificación OpenAPI. Para obtener mas información acerca de este software, puede consultarse el repositorio del proyecto openapi-generator.\cite{openapi}

\subsubsection{Swagger Codegen}

De igual forma que OpenApi Generator, Swagger Codegen permite la generación de clientes, servidores y documentación de API dada una especificación OpenApi, para obtener mas información sobre esta herramienta puede consultarse el repositorio del proyecto.\cite{swagger}

\subsubsection{LucyBot DocGen}

Permite la generación estática de documentación así como una consola de pruebas para las operaciones especificadas para la API. También permite configurar el dominio y el estilo con el que se produce la salida. Pueden consultarse ejemplos de uso en la documentación de la herramienta Lucybot\cite{lucy}

\subsubsection{DapperDox}

Permite generar documentación relacionada con la API especificada así como explorador para navegador web permitiendo una mayor comprensión de las operaciones generadas. Esta herramienta tiene la particularidad de poder consumir diversas especificaciones de diversas APIs lo que facilita trabajar con distintos micro-servicios.  

\subsubsection{Widdershins}

Genera documentación estática de la API especificada así como vistas HTML para probar métodos, parámetros de los métodos y respuestas de los métodos. La peculiaridad de Widdershins\cite{widdershins} reside en que es capaz de producir código fuente de ejemplo en distintos lenguajes como por ejemplo:

\begin{itemize}
\item Ruby
\item Python
\item JavaScript
\item Java
\end{itemize} 


\subsection{Solución}

Tras el análisis realizado sobre las actuales herramientas capaces de satisfacer en mayor o menor medida el problema propuesto, se aprecia una dependencia directa en todas ellas a la especificación de la API, sea en un formato o en otro, por ello, en este generador se pretende ir un paso mas allá y dado un modelo especificó de dominio en formato JSON: 
\begin{lstlisting}
{
   "type":"Apple",
   "name": "Golden",
   "price":1.5,
   "inStock":true
}
\end{lstlisting}

producir dicha especificación en formato OpenApi o Swagger 2.0 para posteriormente ser aprovechada por el código fuente generado para satisfacer operaciones CRUD sobre el modelo de entrada.

El generador aquí propuesto es capaz de producir  código fuente en los siguientes lenguajes de programación:

\begin{itemize}
\item Go
\item Python
\item JavaScript
\end{itemize}

Debido  a que el generador esta implementado en GO, esto facilitar la generación de modelos de datos complejos de manera nativa. En el caso de Python y JavaScript, el código fuente generado generaliza el tratamiento de datos y no define un modelo concreto si no que utiliza la entidad definida en la especificación. De igual forma, el código fuente generado para Python y JavaScript no define rutas del tipo /api o /api/object si no que las rutas de la API son inferidas de la especificación generada. Este enfoque generativo proporciona de manera adicional una interfaz de usuario donde consultar la documentación del API generada, así como una consola para ejecutar operaciones de creación, consulta, borrado y actualización, incluyendo ejemplos de las peticiones a realizar y de las posibles respuestas obtenidas.  Las APIs generadas son de carácter auto-contenido,  es decir junto a la especificación y al código fuente se produce la configuración necesaria para poder instalar las librerías o dependencias que cada tecnología necesita para ejecutar su APIs. 

Como parte adicional, el generador incluye una imagen Docker para facilitar la potabilidad, ejecución y pruebas de las APIs generadas. En las siguientes secciones se muestran detalles de implementación, un caso de uso a modo de ejemplo y los posibles trabajos futuros que pueden resultar del aquí propuesto. 


\section{Implementación}

El generador que aquí se plantea ha sido desarrollado utilizando GO como lenguaje de programación. De este lenguaje se aprovecha el uso de interfaces y  su motor de templates que facilita la generación del código fuente.  

\subsection{Interface}

\begin{lstlisting}
// Generator interface definition
type Generator interface {
	Init() Generator
	WithName(name string) Generator
	WithPort(port int) Generator
	WithInputSpec(spec interface{}) Generator
	WithOutputPath(path string) Generator
	Generate()
}
\end{lstlisting}


\subsection{Template Engine}


\section{Caso de Uso}
\section{Trabajos Futuros}

En el campo de la robótica, la percepción del entorno donde estos agentes han de desempeñar ciertas tareas es parcial, el entorno es cambiante, los sensores que utilizan pueden sufrir variaciones y las tareas a realizar pueden no estar especificadas de ante mano. 

\bibliographystyle{elsarticle-num}
\bibliography{ref/references}

\paragraph{Notas y Comentarios.}
Esta entrega es una tentativa de lo que será el trabajo completo. Con ella, se espera un pequeña aproximación de lo que será


\end{document}
